<% include ../partials/header %>

<link rel="stylesheet" type="text/css" href="/stylesheets/forms.css">

<% include ../partials/nav %>

<div class="container">
    <a href="/sites">&lt;&lt; Go Back</a>
</div>

<form class="form-class" action="/sites/<%= site._id %>?_method=PUT" method="POST" id="siteForm">

    <div class="text-center mb-4">
        <img class="mb-4 STlogo img-fluid" src="/images/logo_st.png" alt="" height="72">
        <h1 class="h3 mb-3 font-weight-normal">Edit <%= site.properties.name %></h1>
    </div>
    
    <% var areas = ['AC', 'BA', 'BM', 'BS', 'CA', 'EB', 'EC', 'EI', 'EW', 
            'GA', 'GB', 'GC', 'GI', 'HI', 'KC', 'MC', 'MI', 'MO', 'MP', 'MU', 'PL',
            'PN', 'PS', 'SA', 'SM', 'SP', 'SS', 'ST', 'VK', 'VR', 'WC', 'WD', 'WR'] %>
    <div class="form-group">
        <label for="inputTypeOfSite">Select the area code of the asset</label>
        <select class="custom-select" name="areaCode" form="siteForm">
            <option value="">Select the area code of the asset</option>
            <%
            for ( var i = 0; i < areas.length; i++ )
            {
                var selected = ( site.properties['areaCode'] == areas[i] ) ? "selected" : "";
                %>
                <option value="<%= areas[i] %>" <%= selected %>><%= areas[i] %></option><%
            }
            %>
        </select>
    </div>
    
    <div class="form-label-group">
      <input type="number" id="inputBlockNumber" name="blockNumber" class="form-control" value="<%= site.properties['blockNumber']%>"  step="1">
      <label for="inputBlockNumber">Enter the block number of the asset</label> 
    </div>
  
    <div class="form-label-group">
      <input type="text" id="inputfield" name="field" class="form-control" value="<%= site.properties['field']%>" >
      <label for="inputfield">Enter the field of the asset</label> 
    </div> 
    
    <div class="form-label-group">
        <input id="inputName" class="form-control" name="name" type="text" value="<%= site.properties.name %>" >    
        <label for="inputName">Edit the name of the site</label>
    </div>
    
    <div class="form-label-group">
        <input id="inputLat" class="form-control" name="lat" type="number" value="<%= site.geometry.coordinates[1] %>"  step="0.00000001">    
        <label for="inputLat">Edit the latitude of the site</label>
    </div>
    
    <div class="form-label-group">
        <input id="inputLng" class="form-control" name="lng" type="number" value="<%= site.geometry.coordinates[0] %>"  step="0.00000001">
        <label for="inputLng">Edit the longitude of the site</label>
    </div>
    
    <div class="form-label-group">
      <input type="number" id="inputAirGap" name="airGap" class="form-control" value="<%= site.properties.airgap %>"  step="0.5">
      <label for="inputAirGap">Edit the Air Gap (feet)</label>
    </div>
    
    <div class="form-group">
        <label for="inputTypeOfSite">Select the type of site</label>
        <select class="custom-select" name="type" form="siteForm">
            <option value="">Select the type of site</option>
            <%
            var options = [ "Platform", "MODU", "Deepwater", 'Other' ];
            for ( var i = 0; i < options.length; i++ )
            {
                var selected = ( site.properties.type == options[i] ) ? "selected" : "";
                %>
                <option value="<%= options[i] %>" <%=selected %>><%= options[i] %></option><%
            }
            %>
        </select>
    </div>
    
    <div class="form-group">
        
    <button class="btn btn-lg btn-outline-dark btn-block">Submit!</button>
</form> 

<% include ../partials/footer %>