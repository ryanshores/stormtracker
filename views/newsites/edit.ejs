<% include ../partials/header %>
<link href="/stylesheets/edit.css" rel="stylesheet">
<% include ../partials/nav %>

<div class='container'>
    <a href="/newsites">&lt;&lt; Go back</a>
    
    <h4 class="text-center h5">Edit &amp; Add Coverage Information</h4>

    
    <div class="mt-3">
        <% objects.forEach(function(obj){ %>
            <form method="POST" class="group mb-5 p-3" onsubmit="return submitdata(this);">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Type</span>
                    </div>
                    <select required class="input custom-select" name="type" form="siteForm2" id="inputTypeOfSite">
                        <option value="" selected>Select the type of site</option>
                        <option value="Platform">Platform</option>
                        <option value="MODU">MODU</option>
                        <option value="Deepwater">Deep Water</option>
                        <option value="Other">Other</option>
                    </select>   
                </div>
                <% var areas = ['AC', 'BA', 'BM', 'BS', 'CA', 'EB', 'EC', 'EI', 'EW', 
                    'GA', 'GB', 'GC', 'GI', 'HI', 'KC', 'MC', 'MI', 'MO', 'MP', 'MU', 'PL',
                    'PN', 'PS', 'SA', 'SM', 'SP', 'SS', 'ST', 'VK', 'VR', 'WC', 'WD', 'WR'] %>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Area Code</span>
                    </div>
                    <select class="custom-select input" name="Area Code" form="siteForm">
                        <% areas.forEach(function(area, i){ %>
                            <% var selected = ( obj['Area Code'] == area ) ? "selected" : ""; %>
                            <option value="<%= area %>" <%= selected %>><%= area %></option>
                        <% }); %>
                    </select>
                </div>
                <% var attributes = ['Block Number', 'Field', 'Structure Name', 'Latitude', 'Longitude', 'Water Depth']%>
                <% attributes.forEach(function(attr) { %>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><%= attr %></span>
                        </div>
                        <input name="<%= attr %>" type="text" class="form-control input" value="<%= obj[ attr ] %>" aria-label="<%= attr %>">
                    </div>
                <% }); %>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Air Gap</span>
                    </div>
                    <input name="Air Gap" type="number" class="form-control input" step=0.5 placeholder='Leave blank if N/A or Unknown' aria-label="Air Gap">
                </div>
                <button class="btn btn-danger float-right removeBtn">Remove</button>
                <button onclick="submitData(this)">Add Asset</button>
            </form>
        <% }); %>
    </div>
    <button class="btn btn-primary mb-5">Add Sites</button>
    
</div>

<script src="/scripts/assetArr.js"></script>

<% include ../partials/footer %>